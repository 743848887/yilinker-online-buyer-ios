From 79d16463c532718771eb3cdcfff0fd971bf8189c Mon Sep 17 00:00:00 2001
From: Rj <rj.constantino@easyshop.ph>
Date: Fri, 28 Aug 2015 05:30:24 +0800
Subject: [PATCH 03/27] Updated address model.

---
 YiLinkerOnlineBuyer/resources/Model/AddressModelV2.swift       | 10 +++++++++-
 .../resources/View/ChangeAddressCollectionViewCell.swift       |  2 ++
 .../resources/ViewController/ChangeAddressViewController.swift |  6 ++++--
 .../resources/Xib/ChangeAddressCollectionViewCell.xib          |  1 +
 4 files changed, 16 insertions(+), 3 deletions(-)

diff --git a/YiLinkerOnlineBuyer/resources/Model/AddressModelV2.swift b/YiLinkerOnlineBuyer/resources/Model/AddressModelV2.swift
index eb2e209..8b17871 100644
--- a/YiLinkerOnlineBuyer/resources/Model/AddressModelV2.swift
+++ b/YiLinkerOnlineBuyer/resources/Model/AddressModelV2.swift
@@ -32,6 +32,8 @@ class AddressModelV2 {
     var latitude: String = ""
     var isDefault: Bool = false
     
+    var subdivision: String = ""
+    
     class func parseAddressFromDictionary(reviews: NSDictionary) -> AddressModelV2 {
         
         var model = AddressModelV2()
@@ -158,7 +160,6 @@ class AddressModelV2 {
                 if value as! NSObject != NSNull() {
                     model.latitude = value as! String
                 }
-                
             }
             
             if let value: AnyObject = reviews["landline"] {
@@ -173,6 +174,13 @@ class AddressModelV2 {
                     model.isDefault = value as! Bool
                 }
             }
+            
+            if let value: AnyObject = reviews["subdivision"] {
+                if value as! NSObject != NSNull() {
+                    model.subdivision = value as! String
+                }
+                
+            }
         }
         
         return model
diff --git a/YiLinkerOnlineBuyer/resources/View/ChangeAddressCollectionViewCell.swift b/YiLinkerOnlineBuyer/resources/View/ChangeAddressCollectionViewCell.swift
index 12818d6..372efc0 100644
--- a/YiLinkerOnlineBuyer/resources/View/ChangeAddressCollectionViewCell.swift
+++ b/YiLinkerOnlineBuyer/resources/View/ChangeAddressCollectionViewCell.swift
@@ -18,6 +18,8 @@ class ChangeAddressCollectionViewCell: UICollectionViewCell {
     @IBOutlet weak var deleteButton: UIButton!
     var delegate: ChangeAddressCollectionViewCellDelegate?
 
+    @IBOutlet weak var addressLabel: UILabel!
+    
     override func awakeFromNib() {
         super.awakeFromNib()
         // Initialization code
diff --git a/YiLinkerOnlineBuyer/resources/ViewController/ChangeAddressViewController.swift b/YiLinkerOnlineBuyer/resources/ViewController/ChangeAddressViewController.swift
index f1c8dcc..6fd9c10 100644
--- a/YiLinkerOnlineBuyer/resources/ViewController/ChangeAddressViewController.swift
+++ b/YiLinkerOnlineBuyer/resources/ViewController/ChangeAddressViewController.swift
@@ -15,7 +15,7 @@ class ChangeAddressViewController: UIViewController, UICollectionViewDelegateFlo
     var cellCount: Int = 3
     var selectedIndex: Int = 0
     
-    
+    var getAddressModel: GetAddressesModel!
     var emptyView: EmptyView?
     
     override func viewDidLoad() {
@@ -85,6 +85,8 @@ class ChangeAddressViewController: UIViewController, UICollectionViewDelegateFlo
     func collectionView(collectionView: UICollectionView, cellForItemAtIndexPath indexPath: NSIndexPath) -> UICollectionViewCell {
         let cell : ChangeAddressCollectionViewCell = collectionView.dequeueReusableCellWithReuseIdentifier(Constants.Checkout.changeAddressCollectionViewCellNibNameAndIdentifier, forIndexPath: indexPath) as! ChangeAddressCollectionViewCell
         
+        cell.addressLabel.text = ""
+        
         if indexPath.row == self.selectedIndex {
             cell.layer.borderWidth = 1
             cell.layer.borderColor = Constants.Colors.selectedGreenColor.CGColor
@@ -187,7 +189,7 @@ class ChangeAddressViewController: UIViewController, UICollectionViewDelegateFlo
         manager.POST(url, parameters: params, success: {
             (task: NSURLSessionDataTask!, responseObject: AnyObject!) in
             
-            GetAddressesModel.parseDataWithDictionary(responseObject)
+            self.getAddressModel = GetAddressesModel.parseDataWithDictionary(responseObject)
 
             SVProgressHUD.dismiss()
             
diff --git a/YiLinkerOnlineBuyer/resources/Xib/ChangeAddressCollectionViewCell.xib b/YiLinkerOnlineBuyer/resources/Xib/ChangeAddressCollectionViewCell.xib
index 12b67f7..7c6b6a6 100644
--- a/YiLinkerOnlineBuyer/resources/Xib/ChangeAddressCollectionViewCell.xib
+++ b/YiLinkerOnlineBuyer/resources/Xib/ChangeAddressCollectionViewCell.xib
@@ -82,6 +82,7 @@
             </constraints>
             <size key="customSize" width="381" height="79"/>
             <connections>
+                <outlet property="addressLabel" destination="Sx5-GY-uj9" id="xty-1D-EG7"/>
                 <outlet property="checkBoxButton" destination="q5N-SS-ZY2" id="yaM-Vz-NDo"/>
                 <outlet property="deleteButton" destination="q7d-g0-zfw" id="GAb-UF-GPw"/>
             </connections>
-- 
2.3.2 (Apple Git-55)

